from __future__ import absolute_import, division, print_function, unicode_literals

from enums.colors import Pair
from level_template import LevelTemplate
from monster_template import MonsterTemplate
from generic_structures import List2D
from game_data.levels.shared_assets import finalize_creatures, finalize_tiles
from creature.creature import Creature


def get_template(world):

    chars = List2D(
        "################################################################################################"
        "#######################..##################.#.#.#######.....#################################.##"
        "######...##############.#.################.#.#.#.#####.####.###......#######################.@.#"
        "######.##..############.##..#############.######.#..###.###.###.####.########################.##"
        "#######.###...##.######.####.######.....##.#####.#.#.##.###.....###..###.#######################"
        "########.######...#####.#####.#####.###.###.####...##.##.##########.###.#.######################"
        "###.#####.####..#######.######.####...#.###.##########.#.##########.##.##.######################"
        "###.######.###.########.######.######.#.###.########...#.##########....##.######################"
        "###.#######.##.########.######.######.#.###.########.###.################.######################"
        "###..........##.#######.######.#####.##.....########.###.################.######################"
        "###.#######..###.######.##...#.####.################.....########.........######################"
        "###.######...####.#####.##.#...###.##############################.##############################"
        "###.#.###...######.####.##.######.###############################.###...########################"
        "####.#.##..########.###.###.####.################################.##.##........#################"
        "###.#.##.###########.##.####.##.#################################...##########.#################"
        "####.####.###########.#.#####..###############################################.#################"
        "##########.#########.##.######################################################...###############"
        "###########.#######.###.########################################################.###############"
        "############.#####.####........................................................##.##############"
        "#############.###.####.########################################################..>##############"
        "##############.#.##...##########################################################################"
        "###############.###.#.##########################################################################"
        "###############.###...##############################.....................#######################"
        "###############P...###...................................................#######################"
        "#######################################..................................#######################"
        "################################################################################################",

    len("################################################################################################")
    )

    tiles = finalize_tiles(chars)

    creature_dict = {
        '@': Creature(MonsterTemplate("The Crone", ('@', Pair.Purple))),
        'P': world.player,
    }

    creatures = finalize_creatures(creature_dict, chars)

    return LevelTemplate(
        danger_level=1,
        dimensions=tiles.get_dimensions(),
        tiles=tiles,
        static_creatures=creatures,
        creature_spawning=False,
    )
